<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mamaz on tech stuffs and software development</title>
    <description>I occasionally write about what I found interesting. Enjoy!
</description>
    <link>http://mamaz.github.com/</link>
    <atom:link href="http://mamaz.github.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 18 Jul 2016 02:18:09 +0700</pubDate>
    <lastBuildDate>Mon, 18 Jul 2016 02:18:09 +0700</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>New blog layout</title>
        <description>&lt;p&gt;Today I changed my blog layout to a basic Jekyll 3.0 theme.
It has basic list of posts that the reader can easily browse through.&lt;/p&gt;

&lt;p&gt;It is inspired by Julia Evans’ &lt;a href=&quot;http://jvns.ca/&quot;&gt;blogpost&lt;/a&gt; which has list of posts at her home
page, so that reader can easily find post they find interesting. I intend to write about things I feel amusing and awesome in subsequent posts
and adding disqus comment engine next.&lt;/p&gt;

&lt;p&gt;Thanks for reading. I’ll see you soon.&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Jul 2016 00:00:00 +0700</pubDate>
        <link>http://mamaz.github.com/2016/07/18/new-blog-layout.html</link>
        <guid isPermaLink="true">http://mamaz.github.com/2016/07/18/new-blog-layout.html</guid>
        
        
      </item>
    
      <item>
        <title>Strange issue with XCode 6.2</title>
        <description>&lt;p&gt;Today I’ve found strange issue with XCode 6.2 as it won’t run on device, event though the prov. profile and Certificates matches.&lt;/p&gt;

&lt;p&gt;The error is:&lt;/p&gt;

&lt;p&gt;“no identity found Command /usr/bin/codesign failed with exit code 1”&lt;/p&gt;

&lt;p&gt;the codesign command uses different SHA-1 hash than the Certificate that I use.&lt;/p&gt;

&lt;p&gt;I’ve tried everything including removing and inserting the Certificates, and refreshing prov. profile in Accounts &amp;gt; Apple ID &amp;gt; View Details.&lt;/p&gt;

&lt;p&gt;It’s working if I use Wildcard profile. But even though Certificate and the prov. profile match each other in Build Settings. The error is still occurred.&lt;/p&gt;

&lt;p&gt;Then I decided to try to &lt;em&gt;re-download&lt;/em&gt; the development prov. profile from Apple Portal even though I still have the same prov profile in my Mac.&lt;/p&gt;

&lt;p&gt;Then it just works, I have no idea why.&lt;/p&gt;
</description>
        <pubDate>Tue, 31 Mar 2015 00:00:00 +0700</pubDate>
        <link>http://mamaz.github.com/2015/03/31/codesign-error.html</link>
        <guid isPermaLink="true">http://mamaz.github.com/2015/03/31/codesign-error.html</guid>
        
        
      </item>
    
      <item>
        <title>Increment Your Version Number and Make a Build</title>
        <description>&lt;p&gt;I am a fan of &lt;a href=&quot;http://semver.org&quot;&gt;semantic versioning&lt;/a&gt;. And in all of the projects here at &lt;a href=&quot;http://icehousecorp.com&quot;&gt;Ice House&lt;/a&gt; we enforce to do it so that we can make sure which build is the right build to be tested and shipped to the App Store.&lt;/p&gt;

&lt;p&gt;It is kind of tedious things to just increment your version every time your fixes or updates are ready to be tested.&lt;/p&gt;

&lt;p&gt;So I look up some scripts on the giant Internet and found &lt;a href=&quot;https://gist.github.com/sekati/3172554#file-xcode-version-bump-sh&quot;&gt;this&lt;/a&gt;. 
The problem is, the script is written to be run by placing it as Run Script on the Build Phase. Since we use xcodebuild and &lt;a href=&quot;https://github.com/nomad/shenzhen&quot;&gt;Shenzhen&lt;/a&gt; to automate things we need the script to be run along other scripts.&lt;/p&gt;

&lt;p&gt;So I modified it a little:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;APP_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;YourAppName&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;INFOPLIST_FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PWD&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;APP_NAME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/Supporting Files/Info.plist&quot;&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;VERSIONNUM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;/usr/libexec/PlistBuddy -c &lt;span class=&quot;s2&quot;&gt;&quot;Print CFBundleShortVersionString&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INFOPLIST_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;NEWSUBVERSION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$VERSIONNUM&lt;/span&gt; | awk -F &lt;span class=&quot;s2&quot;&gt;&quot;.&quot;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{print $3}&#39;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;NEWSUBVERSION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NEWSUBVERSION&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;NEWVERSIONSTRING&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$VERSIONNUM&lt;/span&gt; | awk -F &lt;span class=&quot;s2&quot;&gt;&quot;.&quot;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{print $1 &quot;.&quot; $2 &quot;.&#39;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NEWSUBVERSION&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&quot; }&#39;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
/usr/libexec/PlistBuddy -c &lt;span class=&quot;s2&quot;&gt;&quot;Set :CFBundleShortVersionString &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NEWVERSIONSTRING&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INFOPLIST_FILE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Set version to &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NEWVERSIONSTRING&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then I save it in my root project directory and run it before making an ipa build.&lt;/p&gt;

&lt;p&gt;Notice that it will increment the last digit on the build. From here, you can modify the script above to update all plist files which contain bundle version on your other targets in your project.&lt;/p&gt;

&lt;p&gt;Then from here, you can make build with Shenzhen:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ipa build --verbose
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;and push it to itunesconnect&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ipa distribute:itunesconnect
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;or &lt;a href=&quot;https://github.com/nomad/shenzhen/tree/master/lib/shenzhen/plugins&quot;&gt;other&lt;/a&gt; build distribution services supported.&lt;/p&gt;

</description>
        <pubDate>Fri, 06 Feb 2015 00:00:00 +0700</pubDate>
        <link>http://mamaz.github.com/2015/02/06/increment-your-version-number-and-make-a-build.html</link>
        <guid isPermaLink="true">http://mamaz.github.com/2015/02/06/increment-your-version-number-and-make-a-build.html</guid>
        
        
      </item>
    
      <item>
        <title>Adding UIActivityIndicatorView the Smart Way</title>
        <description>&lt;p&gt;As iOS developer we often do some synchronous process and use a loading indicator to a view to tell user that loading is in progress. There are some faboulous libraries out there to show a loading is in progress, like &lt;a href=&quot;https://github.com/TransitApp/SVProgressHUD&quot;&gt;SVProgressHUD&lt;/a&gt; and &lt;a href=&quot;https://github.com/jdg/MBProgressHUD&quot;&gt;MBProgressHUD&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But somewhat we just want a simple UIActivityIndicatorView to show that process. Normally we add it by using this simple code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;UIView *superview = self.view;

CGFloat activityIndicatorHeight = 20.0;
CGFloat activityIndicatorWidth = 20.0;

CGFloat originX = superview.frame.size.width/2 - activityIndicatorWidth / 2;
CGFloat originY = superview.frame.size.height/2 - activityIndicatorHeight / 2;

UIActivityIndicatorView *act =[UIActivityIndicatorView new];
act.backgroundColor = [UIColor redColor];
act.frame = (CGRect){originX,originY,activityIndicatorWidth,activityIndicatorHeight};
[self.view addSubview:act];

[act startAnimating];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Phew, for showing a simple UIActivityIndicatorView on the center of the screen we need at least this much of code. Imagine if we want to add it to a dozens of cells on a UICollectionView. Or even on a different view on different view controller. Soon your view controllers or custom views become so big and not easy to maintain.&lt;/p&gt;

&lt;p&gt;Now, with several steps that I will show you we can show a simple UIActivityIndicatorView by just this much cleaner command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;[superview.activityIndicatorView startAnimating];
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and hide it using this command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;[superview.activityIndicatorView stopAnimating];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Much simple yeah? So how do we do that? We will use these 2 Objective C features:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://rypress.com/tutorials/objective-c/categories&quot;&gt;Categories&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://nshipster.com/associated-objects/&quot;&gt;Associated Objects&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;We use category for placing our activity indicator initialization so that we have a clean and better separation of concern to our code, then since we can’t have properties in a category, we use associated object to add custom properties to UIView class.&lt;/p&gt;

&lt;p&gt;First, we create a UIView category named UIView+ActivityIndicator and add a property in its header.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;#import &amp;lt;UIKit/UIKit.h&amp;gt;

@interface UIView (ActivityIndicator)

@property(nonatomic, strong) UIActivityIndicatorView *activityIndicatorView;

@end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Since we use runtime library of Objective C, we need to import it beforehand&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;#import &amp;lt;objc/runtime.h&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;then we add getter to that property in the implementation file&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;- (UIActivityIndicatorView *)activityIndicatorView
{
    UIActivityIndicatorView *activityIndicatorView = objc_getAssociatedObject(self, @selector(activityIndicatorView));
    
    if (!activityIndicatorView) {
        
        CGSize loadingSize = CGSizeMake(20, 20);
        CGFloat activityIndicatorOriginX = self.frame.size.width/2 - loadingSize.width/2;
        CGFloat activityIndicatorOriginY = self.frame.size.height/2 - loadingSize.height/2;
        
        activityIndicatorView = [[UIActivityIndicatorView alloc]initWithFrame:
                                 CGRectMake(activityIndicatorOriginX,
                                            activityIndicatorOriginY,
                                            loadingSize.width,
                                            loadingSize.height)];
        
        [activityIndicatorView setActivityIndicatorViewStyle:UIActivityIndicatorViewStyleGray];
        [self addSubview:activityIndicatorView];
        
    }
    
    // default is stop the animation
    [activityIndicatorView stopAnimating];
    [self setActivityIndicatorView:activityIndicatorView];
    
    return activityIndicatorView;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;the getter will create a new default object of UIActivityIndicatorView, if there’s none, before adding it to the view.&lt;/p&gt;

&lt;p&gt;Voila!&lt;/p&gt;

&lt;p&gt;Now, by importing our category file &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;UIView+ActivityIndicator.h&quot;&lt;/code&gt;, you can &lt;code class=&quot;highlighter-rouge&quot;&gt;startAnimating&lt;/code&gt; your UIActivityIndicatorView right at the center of the view.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;[view.activityIndicatorView startAnimating];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see full example in &lt;a href=&quot;https://github.com/mamaz/MMZHelpers/tree/master/UIView%2BHelpers&quot;&gt;Github&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Wed, 31 Dec 2014 00:00:00 +0700</pubDate>
        <link>http://mamaz.github.com/2014/12/31/uicctivityindicatorview-smart-way.html</link>
        <guid isPermaLink="true">http://mamaz.github.com/2014/12/31/uicctivityindicatorview-smart-way.html</guid>
        
        
      </item>
    
  </channel>
</rss>
